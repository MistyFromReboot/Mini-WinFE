<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 4.01//EN" "http://www.w3.org/TR/html4/strict.dtd"><html><head><link type="text/css" rel="stylesheet" href="WinFE.css" media="screen" /><title>Mini-WinFE</title></head><body><font> 
 
 
 
<p> 
<select ONCHANGE="location = this.options[this.selectedIndex].value;"> 
<option value="" disabled></option> 
<option value="../readme.html">Contents</option> 
<option value="" disabled>=======</option> 
<option value="winfe.htm">Windows FE</option>  
<option value="winpe.htm">Windows PE</option>  
<option value="builder.htm">Builder</option>  
<option value="options.htm">Project Options</option>  
<option value="project.htm">Project Scripts</option>  
<option value="instructions_pebakery.htm">Instructions (PEB..</option>  
<option value="instructions_wb.htm">Instructions (Win..</option>  
<option value="menu_system.htm">Menu System</option>  
<option value="not_in_wim.htm" selected="selected">Include...in boot.wim</option>  
<option value="postconfig.htm">Post Config</option>  
<option value="packages.htm">Packages</option>  
<option value="usb.htm">...Bootable USB...</option>  
<option value="uefi.htm">UEFI, BIOS, GPT...</option>  
<option value="multiboot.htm">Multiboot WinPE</option>  
<option value="" disabled></option> 
<option value="" disabled>Appendices</option> 
<option value="" disabled>=========</option> 
<option value="quick_pebakery.htm">Quick Start - PEBakery...</option>  
<option value="quick_wb.htm">Quick Start - WinBuilder...</option>  
<option value="usage.htm">Quick Start - Run...</option>  
<option value="diskmgr.htm">DiskMgr</option>  
<option value="winfe_tests.htm">WinFE Tests</option>  
<option value="links.htm">Download\Links</option>  
<option value="acknowledgements.htm">Acknowledgements</option>  
<option value="" disabled></option> 
</select> 
</p> 
 
 
 
<hr> 
<a href="http://winfe.mistyprojects.co.uk/index.html"><img src="img/home.jpg" BORDER=1></a> 
 



<h2><u>Include Program in boot.wim</u></h2>



<p>
A number of <font class="file">Applications</font> .scripts have an option to <font class="file">Include Program in boot.wim</font>. E.g. -
<br />
<a href="img/notinwim.png"><IMG SRC="img/notinwim.png" float=left margin-right=1% margin-bottom=0.5em border=1></a>
</p>




<p class="break3em">
If the <font class="file">Include Program in boot.wim</font> option is enabled then the selected application will be added to <font class="file">boot.wim</font> - increasing the size of <font class="file">WinPE</font> and the system RAM requirements.
</p>



<p class="break3em">
If a light build of <font class="file">WinPE</font> is required, then consider disabling this option at the individual application script level - allowing control over which applications are included or excluded from <font class="file">boot.wim</font>. None of the applications included in the initial <font class="file">WinFE</font> release are particularly large and this is unlikely to be an issue at the time of writing, however as the project develops larger  applications are likely to be added. 
</p>


<p class="break3em">
Any applications included in <font class="file">boot.wim</font> will increase RAM usage due to the file size increase in <font class="file">boot.wim</font> when adding additional files. FTK Imager version 3.1.1.8 for example is 74 MB when unpacked. Although not currently included/supported in the project, this program can run in a <font class="file">WinPE</font> environment. Disabling the <font class="file">Include Program in boot.wim</font> option has other advantages - the main one being the ability to update individual programs without having to rebuild <font class="file">boot.wim</font>.
</p>



<p class="break3em">
If the <font class="file">Include Program in boot.wim</font> option is disabled, the application will be added to one of the following directories (depending on the <font class="file">WinPE</font> Processor Architecture) -
<ul>
<li><font color="red">\WinFE.Files\ISO.ROOT\Programs.x86\</font> (32-bit <font class="file">WinPE</font> builds)</li>
<li><font color="red">\WinFE.Files\ISO.ROOT\Programs.x64\</font> (64-bit <font class="file">WinPE</font> builds)</li>
</ul>
Paths are relative to <font class="file">PEBakeryLauncher.exe</font>. The contents of <font color="red">\WinFE.Files\ISO.ROOT\</font> will be added to the root of the CD\DVD image if the Create ISO script is enabled. Alternatively, manually copy the <font color="red">\WinFE.Files\ISO.ROOT\Programs.x**\</font> directory to the root of a USB drive. 
</p>



<p class="break3em">
If any of the <font class="file">Applications</font> scripts have the <font class="file">Include Program in boot.wim</font> option disabled, then a menu shortcut will be added to the build that will launch a batch file to search for a unique file created during the build process. The unique file uses a name based on the build date and time. <font class="file">Find Programs</font> shortcut icon -<br />
<img src="img/findprograms.png" border=1>
</p>


<p class="break3em">
Batch file launched when the <font class="file">Find Programs</font> menu option is selected, running in <font class="file">WinPE</font> (note the name of the tag file in this build - 2018-13-19-15.56.tag) - 
<br />
<a href="img/external_cmd.png"><IMG SRC="img/external_cmd.png" float=left margin-right=1% margin-bottom=0.5em border=1></a>
</p>



<p class="break3em">
<b><u>NOTE</u></b> - if you plan to PXE boot your <font class="file">WinFE</font> build then there are significant advantages in enabling the <font class="file">Include Program in boot.wim</font> option as it may not be possible to access other media from this environment. 
</p>



<p class="break3em">
Running the <font class="file">Find Programs</font> menu option will run a batch file which will search for a unique file. If this unique file is located in the root of a mounted drive then a series of other batch files will be executed. These will create menu entries in the selected shell's start menu (and may also add registry entries and start <font class="file">LaunchBar</font>). Menu entries will be added to the <font class="file">Start</font> &gt; <font class="file">ExternalMedia</font> submenu. 
</p>



<p class="break3em">
<font class="file">WinXShell</font> prior to running the <font class="file">Find Programs</font> menu option (<font class="file">ExternalMedia</font> submenu is empty) - <br />
<a href="img/external_winxshell01.png"><IMG SRC="img/external_winxshell01.png" float=left margin-right=1% margin-bottom=0.5em border=1></a>
</p>


<p class="break3em">
<font class="file">WinXShell</font> <u>after</u> running the <font class="file">Find Programs</font> menu option - <br />
<a href="img/external_winxshell02.png"><IMG SRC="img/external_winxshell02.png" float=left margin-right=1% margin-bottom=0.5em border=1></a>
</p>


<p class="break3em">
<font class="file">LaunchBar</font> prior to running the <font class="file">Find Programs</font> menu option (<font class="file">ExternalMedia</font> submenu is empty) - <br />
<a href="img/external_launchbar01.png"><IMG SRC="img/external_launchbar01.png" float=left margin-right=1% margin-bottom=0.5em border=1></a>
</p>


<p class="break3em">
<font class="file">LaunchBar</font> <u>after</u> running the <font class="file">Find Programs</font> menu option - <br />
<a href="img/external_launchbar02.png"><IMG SRC="img/external_launchbar02.png" float=left margin-right=1% margin-bottom=0.5em border=1></a>
</p>


<p class="break3em">
<font class="file">BBLean</font> prior to running the <font class="file">Find Programs</font> menu option (<font class="file">ExternalMedia</font> submenu is empty) - <br />
<a href="img/external_bblean01.png"><IMG SRC="img/external_bblean01.png" float=left margin-right=1% margin-bottom=0.5em border=1></a>
</p>


<p class="break3em">
<font class="file">BBLean</font> <u>after</u> running the <font class="file">Find Programs</font> menu option - <br />
<a href="img/external_bblean02.png"><IMG SRC="img/external_bblean02.png" float=left margin-right=1% margin-bottom=0.5em border=1></a>
</p>















<p class="breaktop"><font class="file">Document date - 18<sup>th</sup> June 2022</font></p></font></body></html>
 